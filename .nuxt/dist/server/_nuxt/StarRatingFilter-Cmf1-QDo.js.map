{"version":3,"file":"StarRatingFilter-Cmf1-QDo.js","sources":["../../../../woonuxt_base/app/components/filtering/StarRatingFilter.vue"],"sourcesContent":["<script setup lang=\"ts\">\nconst { getFilter, setFilter, isFiltersActive } = await useFiltering();\n\nconst selectedTerms = ref<string[]>(getFilter('rating'));\nconst isOpen = ref(true);\n\n/**\n * @description This watches the isFiltersActive variable and unchecks all radio boxes when filters are cleared.\n * @example If the user clicks the 'clear filters' button, the isFiltersActive variable would change to false.\n */\nwatch(isFiltersActive, () => {\n  if (!isFiltersActive.value) selectedTerms.value = [];\n});\n\n/**\n * @param {string} rating - This is a string instead of a number because the setFilter function is used globally and it only accepts strings.\n * @description This sets the filter to the selected rating. If the rating is already selected, it will be removed from the filter.\n */\nconst radioClicked = (rating: string): void => {\n  setFilter('rating', selectedTerms.value.includes(rating) ? [] : [rating]);\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"cursor-pointer flex font-semibold mt-8 leading-none justify-between items-center\" @click=\"isOpen = !isOpen\">\n      <span>{{ $t('messages.shop.rating') }}</span>\n      <Icon v-show=\"isOpen\" name=\"ion:chevron-up-outline\" />\n      <Icon v-show=\"!isOpen\" name=\"ion:chevron-down-outline\" />\n    </div>\n    <div v-if=\"isOpen\" class=\"mt-3 text-sm grid text-gray-500 gap-3\">\n      <div class=\"cursor-pointer flex gap-2 items-center\">\n        <input id=\"star-five\" v-model=\"selectedTerms\" type=\"radio\" value=\"5\" aria-label=\"5 stars\" @click=\"radioClicked('5')\" />\n        <label class=\"flex items-center\" for=\"star-five\">\n          <StarRating :rating=\"5\" :size=\"16\" />\n        </label>\n      </div>\n      <div class=\"cursor-pointer flex gap-2 items-center\">\n        <input id=\"star-four\" v-model=\"selectedTerms\" type=\"radio\" value=\"4\" aria-label=\"4 stars\" @click=\"radioClicked('4')\" />\n        <label class=\"flex items-center\" for=\"star-four\">\n          <StarRating :rating=\"4\" :size=\"16\" />\n          <span class=\"ml-1 text-xs\">& {{ $t('messages.general.up') }}</span>\n        </label>\n      </div>\n      <div class=\"cursor-pointer flex gap-2 items-center\">\n        <input id=\"star-three\" v-model=\"selectedTerms\" type=\"radio\" value=\"3\" aria-label=\"3 stars\" @click=\"radioClicked('3')\" />\n        <label class=\"flex items-center\" for=\"star-three\">\n          <StarRating :rating=\"3\" :size=\"16\" />\n          <span class=\"ml-1 text-xs\">& {{ $t('messages.general.up') }}</span>\n        </label>\n      </div>\n      <div class=\"cursor-pointer flex gap-2 items-center\">\n        <input id=\"star-two\" v-model=\"selectedTerms\" type=\"radio\" value=\"2\" aria-label=\"2 stars\" @click=\"radioClicked('2')\" />\n        <label class=\"flex items-center\" for=\"star-two\">\n          <StarRating :rating=\"2\" :size=\"16\" />\n          <span class=\"ml-1 text-xs\">& {{ $t('messages.general.up') }}</span>\n        </label>\n      </div>\n      <div class=\"cursor-pointer flex gap-2 items-center\">\n        <input id=\"star-one\" v-model=\"selectedTerms\" type=\"radio\" value=\"1\" aria-label=\"1 star\" @click=\"radioClicked('1')\" />\n        <label class=\"flex items-center\" for=\"star-one\">\n          <StarRating :rating=\"1\" :size=\"16\" />\n          <span class=\"ml-1 text-xs\">& {{ $t('messages.general.up') }}</span>\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,UAAM,EAAE,WAAW,WAAW,gBAAoB,KAAA,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,cAAa;AAErE,UAAM,gBAAgB,IAAc,UAAU,QAAQ,CAAC;AACjD,UAAA,SAAS,IAAI,IAAI;AAMvB,UAAM,iBAAiB,MAAM;AAC3B,UAAI,CAAC,gBAAgB,MAAO,eAAc,QAAQ,CAAA;AAAA,IAAC,CACpD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
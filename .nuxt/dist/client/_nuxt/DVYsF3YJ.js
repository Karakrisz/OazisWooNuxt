import{q as de,s as ne,u as I,G as Ue,v as Te,x as Me,y as Ee,d as O,n as me,z as Le,A as oe,o as c,c as h,g as t,t as u,B as w,C as S,b as e,a as $,D as fe,F as j,r as ee,E as le,H as he,_ as te,I as ae,J as _e,e as E,f as C,K as q,L as Ae,i as ge,w as A,T as Z,l as ie,h as Y,M as Ie,N as De,O as Ne,P as qe,Q as ue,R as je,j as Oe,S as He}from"./CVb3yudB.js";import{_ as Ge}from"./DBjo1zSi.js";import{_ as ye,a as ve}from"./CMTrChwW.js";import{a as Be}from"./vbR8ZBrf.js";import{u as ze}from"./DKIXGy_I.js";import"./CaQzSeT8.js";import"./BUpnhGW8.js";const Re=window.setInterval;function re(){const f=de("orderInput",()=>({customerNote:"",paymentMethod:"",shipToDifferentAddress:!1,metaData:[{key:"order_via",value:"WooNuxt"}]})),n=de("isProcessingOrder",()=>!1);async function r(){var i;const{customer:l,viewer:_}=ne(),{isUpdatingCart:d,refreshCart:o}=I();d.value=!0;try{const{updateCustomer:p}=await Ue({input:{id:(i=_==null?void 0:_.value)==null?void 0:i.id,shipping:f.value.shipToDifferentAddress?l.value.shipping:l.value.billing,billing:l.value.billing}});p&&o()}catch(p){console.error(p)}}function s(l){return new Promise(_=>{const i=window.innerWidth/2-375,p=window.innerHeight/2-750/2+80,y=window.open(l,"",`width=750,height=750,top=${p},left=${i}`),m=Re(()=>{y!=null&&y.closed&&(clearInterval(m),_(!0))},500)})}return{orderInput:f,isProcessingOrder:n,proccessCheckout:async(l=!1)=>{var P,L,G,B,J;const{customer:_,loginUser:d}=ne(),o=Te(),{replaceQueryParam:i}=Me(),{emptyCart:p,refreshCart:y}=I();n.value=!0;const{username:m,password:H,shipToDifferentAddress:D}=f.value,N=(P=_.value)==null?void 0:P.billing,se=D?(L=_.value)==null?void 0:L.shipping:N;try{let U={billing:N,shipping:se,metaData:f.value.metaData,paymentMethod:f.value.paymentMethod.id,customerNote:f.value.customerNote,shipToDifferentAddress:D,transactionId:f.value.transactionId,isPaid:l};f.value.createAccount&&(U.account={username:m,password:H});const{checkout:b}=await Ee(U);f.value.createAccount&&await d({username:m,password:H});const z=(G=b==null?void 0:b.order)==null?void 0:G.databaseId,R=(B=b==null?void 0:b.order)==null?void 0:B.orderKey,W=f.value.paymentMethod.id,v=W==="paypal"||W==="ppcp-gateway";if(await(b==null?void 0:b.redirect)&&v){const g=window.location.origin;let k=(b==null?void 0:b.redirect)??"";const T=`${g}/checkout/order-received/${z}/?key=${R}&from_paypal=true`,V=`${g}/checkout/?cancel_order=true&from_paypal=true`;k=i("return",T,k),k=i("cancel_return",V,k),k=i("bn","WooNuxt_Cart",k),await s(k)&&o.push(`/checkout/order-received/${z}/?key=${R}&fetch_delay=true`)}else o.push(`/checkout/order-received/${z}/?key=${R}`);if(await(b==null?void 0:b.result)!=="success")return alert("There was an error processing your order. Please try again."),window.location.reload(),b;await p(),await y()}catch(U){n.value=!1;const b=(J=U==null?void 0:U.gqlErrors)==null?void 0:J[0].message;return b!=null&&b.includes("An account is already registered with your email address")?(alert("An account is already registered with your email address"),null):(alert(b),null)}n.value=!1},updateShippingLocation:r}}const We={class:"grid w-full gap-4 lg:grid-cols-2"},Fe={class:"w-full"},Ke={for:"first-name"},Ze={class:"w-full"},Ye={for:"last-name"},Je={class:"w-full col-span-full"},Qe={for:"address1"},Xe={class:"w-full col-span-full"},et={for:"address2"},tt={class:"w-full"},st={for:"city"},nt={class:"w-full"},ot={for:"state"},lt={class:"w-full"},at={for:"country"},it={class:"w-full"},rt={for:"zip"},dt={class:"w-full col-span-full"},ut={for:"phone"},ct=O({__name:"BillingDetails",props:{modelValue:{type:Object,required:!0},sameAsShippingAddress:{type:Boolean,default:!0}},async setup(f){let n,r;const{updateShippingLocation:s}=re(),{allowedCountries:a,countryStates:l}=([n,r]=me(()=>Le()),n=await n,r(),n),d=oe(f,"modelValue");return(o,i)=>{const p=ye,y=ve;return c(),h("div",We,[t("div",Fe,[t("label",Ke,u(o.$t("messages.billing.firstName")),1),w(t("input",{"onUpdate:modelValue":i[0]||(i[0]=m=>e(d).firstName=m),placeholder:"John",type:"text",required:""},null,512),[[S,e(d).firstName]])]),t("div",Ze,[t("label",Ye,u(o.$t("messages.billing.lastName")),1),w(t("input",{"onUpdate:modelValue":i[1]||(i[1]=m=>e(d).lastName=m),placeholder:"Doe",type:"text",required:""},null,512),[[S,e(d).lastName]])]),t("div",Je,[t("label",Qe,u(o.$t("messages.billing.address1")),1),w(t("input",{"onUpdate:modelValue":i[2]||(i[2]=m=>e(d).address1=m),placeholder:"O'Connell Street",type:"text",required:""},null,512),[[S,e(d).address1]])]),t("div",Xe,[t("label",et,u(o.$t("messages.billing.address2")),1),w(t("input",{"onUpdate:modelValue":i[3]||(i[3]=m=>e(d).address2=m),placeholder:"Dublin 1",type:"text"},null,512),[[S,e(d).address2]])]),t("div",tt,[t("label",st,u(o.$t("messages.billing.city")),1),w(t("input",{"onUpdate:modelValue":i[4]||(i[4]=m=>e(d).city=m),placeholder:"Dublin",type:"text",required:""},null,512),[[S,e(d).city]])]),t("div",nt,[t("label",ot,u(o.$t("messages.billing.state")),1),$(p,{modelValue:e(d).state,"onUpdate:modelValue":i[5]||(i[5]=m=>e(d).state=m),"default-value":e(d).state,"country-code":e(d).country,onChange:e(s),countryStates:e(l)},null,8,["modelValue","default-value","country-code","onChange","countryStates"])]),t("div",lt,[t("label",at,u(o.$t("messages.billing.country")),1),$(y,{modelValue:e(d).country,"onUpdate:modelValue":i[6]||(i[6]=m=>e(d).country=m),"default-value":e(d).country,onChange:e(s),allowedCountries:e(a)},null,8,["modelValue","default-value","onChange","allowedCountries"])]),t("div",it,[t("label",rt,"ZIP ("+u(o.$t("messages.general.optional"))+")",1),w(t("input",{"onUpdate:modelValue":i[7]||(i[7]=m=>e(d).postcode=m),placeholder:"D01 1234",type:"text"},null,512),[[S,e(d).postcode]])]),t("div",dt,[t("label",ut,u(o.$t("messages.billing.phone"))+" ("+u(o.$t("messages.general.optional"))+")",1),w(t("input",{"onUpdate:modelValue":i[8]||(i[8]=m=>e(d).phone=m),placeholder:"+353871234567",type:"tel"},null,512),[[S,e(d).phone]])])])}}}),pt={class:"grid w-full gap-4 lg:grid-cols-2"},mt={class:"w-full"},ft={for:"first-name"},ht={class:"w-full"},_t={for:"last-name"},gt={class:"w-full col-span-full"},yt={for:"address1"},vt={class:"w-full col-span-full"},bt={for:"address2"},$t={class:"w-full"},wt={for:"city"},xt={class:"w-full"},St={for:"zip"},Ct={class:"w-full"},kt={for:"state"},Vt={class:"w-full"},Pt={for:"country"},Ut={class:"w-full col-span-full"},Tt={for:"phone"},Mt=O({__name:"ShippingDetails",props:{modelValue:{type:Object,required:!0}},setup(f){const{updateShippingLocation:n}=re(),s=oe(f,"modelValue");return(a,l)=>{const _=ye,d=ve;return c(),h("div",pt,[t("div",mt,[t("label",ft,u(a.$t("messages.billing.firstName")),1),w(t("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>e(s).firstName=o),placeholder:"John",type:"text",required:""},null,512),[[S,e(s).firstName]])]),t("div",ht,[t("label",_t,u(a.$t("messages.billing.lastName")),1),w(t("input",{"onUpdate:modelValue":l[1]||(l[1]=o=>e(s).lastName=o),placeholder:"Doe",type:"text",required:""},null,512),[[S,e(s).lastName]])]),t("div",gt,[t("label",yt,u(a.$t("messages.billing.address1")),1),w(t("input",{"onUpdate:modelValue":l[2]||(l[2]=o=>e(s).address1=o),placeholder:"O'Connell Street",type:"text",required:""},null,512),[[S,e(s).address1]])]),t("div",vt,[t("label",bt,u(a.$t("messages.billing.address2")),1),w(t("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>e(s).address2=o),placeholder:"Dublin 1",type:"text"},null,512),[[S,e(s).address2]])]),t("div",$t,[t("label",wt,u(a.$t("messages.billing.city")),1),w(t("input",{"onUpdate:modelValue":l[4]||(l[4]=o=>e(s).city=o),placeholder:"Dublin",type:"text",required:""},null,512),[[S,e(s).city]])]),t("div",xt,[t("label",St,"ZIP ("+u(a.$t("messages.general.optional"))+")",1),w(t("input",{"onUpdate:modelValue":l[5]||(l[5]=o=>e(s).postcode=o),placeholder:"D01 1234",type:"text"},null,512),[[S,e(s).postcode]])]),t("div",Ct,[t("label",kt,u(a.$t("messages.billing.state")),1),$(_,{modelValue:e(s).state,"onUpdate:modelValue":l[6]||(l[6]=o=>e(s).state=o),"default-value":e(s).state,"country-code":e(s).country,onChange:e(n)},null,8,["modelValue","default-value","country-code","onChange"])]),t("div",Vt,[t("label",Pt,u(a.$t("messages.billing.country")),1),$(d,{modelValue:e(s).country,"onUpdate:modelValue":l[7]||(l[7]=o=>e(s).country=o),"default-value":e(s).country,onChange:e(n)},null,8,["modelValue","default-value","onChange"])]),t("div",Ut,[t("label",Tt,u(a.$t("messages.billing.phone"))+" ("+u(a.$t("messages.general.optional"))+")",1),w(t("input",{"onUpdate:modelValue":l[8]||(l[8]=o=>e(s).phone=o),placeholder:"+353871234567",type:"tel"},null,512),[[S,e(s).phone]])])])}}}),Et={class:"grid gap-4 shipping-options"},Lt=["onClick"],At=["innerHTML"],It={class:"font-semibold text-gray-600"},Dt={__name:"ShippingOptions",props:{options:{type:Array,required:!0},activeOption:{type:String,required:!0}},setup(f){var l;const{updateShippingMethod:n}=I(),r=he(),s=((l=r==null?void 0:r.public)==null?void 0:l.CURRENCY_SYMBOL)||"$",a=async _=>{await n(_)};return(_,d)=>{const o=te;return c(),h("div",Et,[(c(!0),h(j,null,ee(f.options,i=>(c(),h("div",{key:i.id,class:le(["flex items-center justify-between option",{"active-option":i.id===f.activeOption}]),onClick:p=>a(i.id)},[t("div",null,[t("div",{class:"text-sm leading-tight text-gray-500",innerHTML:i.label},null,8,At),t("div",It,u(e(s))+u(i.cost),1)]),$(o,{name:"ion:checkmark-circle",size:"20",class:"ml-auto text-primary checkmark opacity-0"})],10,Lt))),128))])}}},Nt=fe(Dt,[["__scopeId","data-v-9043ed77"]]),qt={class:"flex gap-4 leading-tight flex-wrap"},jt=["onClick","title"],Ot=["innerHTML"],Ht={key:0,class:"prose block w-full"},Gt=["innerHTML"],Bt=O({__name:"PaymentOptions",props:{modelValue:{},paymentGateways:{}},emits:["update:modelValue"],setup(f,{emit:n}){const r=f,s=oe(r,"modelValue"),a=ae(()=>s.value),l=n,_=d=>{l("update:modelValue",d)};return _e(()=>{var d,o;(d=r.paymentGateways)!=null&&d.nodes.length&&_((o=r.paymentGateways)==null?void 0:o.nodes[0])}),(d,o)=>{var p;const i=te;return c(),h("div",qt,[(c(!0),h(j,null,ee((p=d.paymentGateways)==null?void 0:p.nodes,y=>(c(),h("div",{key:y.id,class:le(["option",{"active-option":y.id===e(a).id}]),onClick:m=>_(y),title:(y==null?void 0:y.description)||(y==null?void 0:y.title)||"Payment Method"},[y.id==="stripe"?(c(),E(i,{key:0,name:"ion:card-outline",size:"20"})):y.id==="paypal"?(c(),E(i,{key:1,name:"ion:logo-paypal",size:"20"})):(c(),E(i,{key:2,name:"ion:cash-outline",size:"20"})),t("span",{class:"whitespace-nowrap",innerHTML:y.title},null,8,Ot),$(i,{name:"ion:checkmark-circle",size:"20",class:"ml-auto text-primary checkmark opacity-0"})],10,jt))),128)),e(a).description?(c(),h("div",Ht,[t("p",{class:"text-sm text-gray-500",innerHTML:e(a).description},null,8,Gt)])):C("",!0)])}}}),zt=fe(Bt,[["__scopeId","data-v-e7723a37"]]),Rt={id:"card-element"},Wt=O({__name:"StripeElement",props:["stripe"],emits:["updateElement"],setup(f,{emit:n}){const{cart:r}=I(),{stripe:s}=f,a=ae(()=>r.value&&parseFloat(r.value.rawTotal)*100),l=n;let _=null;const d={mode:"payment",currency:"eur",amount:a.value},o=async()=>{_=s.elements(d),_.create("card",{hidePostalCode:!0}).mount("#card-element"),l("updateElement",_)};return _e(()=>{o()}),(i,p)=>(c(),h("div",Rt))}}),Ft=["placeholder"],Kt=["disabled"],Zt={key:1},Yt=["innerHTML"],Jt={key:0,class:"text-xs font-semibold uppercase flex flex-wrap gap-2"},Qt={key:0,class:"bg-primary border-primary border rounded-md flex bg-opacity-5 border-opacity-10 text-primary leading-none p-1.5 gap-1 items-center"},Xt=["innerHTML"],es=O({__name:"AddCoupon",setup(f){const{cart:n,isUpdatingCoupon:r,applyCoupon:s,removeCoupon:a}=I(),l=q(""),_=q("");async function d(){const{message:o}=await s(l.value);o?_.value=o:(l.value="",_.value="")}return(o,i)=>{const p=ie,y=te;return c(),h("div",null,[t("form",{class:"flex gap-1",onSubmit:ge(d,["prevent"])},[w(t("input",{id:"couponCode","onUpdate:modelValue":i[0]||(i[0]=m=>Ae(l)?l.value=m:null),type:"text",placeholder:o.$t("messages.shop.couponCode"),class:"w-full px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm outline-none",required:""},null,8,Ft),[[S,e(l)]]),t("button",{class:"flex items-center justify-center px-4 py-2 text-white bg-gray-800 border rounded-md shadow-sm outline-none min-w-20",disabled:e(r)},[e(r)?(c(),E(p,{key:0,color:"#fff",size:"16"})):(c(),h("span",Zt,u(o.$t("messages.general.apply")),1))],8,Kt)],32),$(Z,{name:"scale-y",mode:"out-in"},{default:A(()=>[e(_)?(c(),h("div",{key:0,class:"mt-2 text-xs text-red-600",innerHTML:e(_)},null,8,Yt)):C("",!0)]),_:1}),$(Z,{name:"scale-y",mode:"out-in"},{default:A(()=>[e(n)&&e(n).appliedCoupons?(c(),h("div",Jt,[(c(!0),h(j,null,ee(e(n).appliedCoupons,(m,H)=>(c(),h("div",{key:(m==null?void 0:m.code)||H,class:"flex flex-wrap mt-2 flex-2"},[m!=null&&m.code?(c(),h("div",Qt,[t("span",{innerHTML:m.code},null,8,Xt),$(y,{name:"ion:close",class:"rounded-full cursor-pointer hover:bg-primary hover:text-white",onClick:D=>e(a)(m.code)},null,8,["onClick"])])):C("",!0)]))),128))])):C("",!0)]),_:1})])}}}),ts={key:0,class:"bg-white rounded-lg shadow-lg mb-8 w-full min-h-[280px] p-4 sm:p-8 relative md:max-w-md md:top-32 md:sticky"},ss={class:"mb-6 text-xl font-semibold leading-none"},ns={class:"flex flex-col gap-4 overflow-y-auto"},os={class:"grid gap-1 text-sm font-semibold text-gray-500"},ls={class:"flex justify-between"},as=["innerHTML"],is={class:"flex justify-between"},rs={class:"text-gray-700 tabular-nums"},ds={key:0,class:"flex justify-between"},us={class:"text-primary tabular-nums"},cs=["innerHTML"],ps={class:"flex justify-between mt-4"},ms=["innerHTML"],fs={key:0,class:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-50"},hs={__name:"OrderSummary",setup(f){const{cart:n,isUpdatingCart:r}=I();return(s,a)=>{const l=Be,_=es,d=ie;return e(n)?(c(),h("aside",ts,[t("h2",ss,u(s.$t("messages.shop.orderSummary")),1),t("ul",ns,[(c(!0),h(j,null,ee(e(n).contents.nodes,o=>(c(),E(l,{key:o.key,item:o},null,8,["item"]))),128))]),$(_,{class:"my-8"}),t("div",os,[t("div",ls,[t("span",null,u(s.$t("messages.shop.subtotal")),1),t("span",{class:"text-gray-700 tabular-nums",innerHTML:e(n).subtotal},null,8,as)]),t("div",is,[t("span",null,u(s.$t("messages.general.shipping")),1),t("span",rs,u(parseFloat(e(n).shippingTotal)>0?"+":"")+" "+u(e(n).shippingTotal),1)]),$(Z,{name:"scale-y",mode:"out-in"},{default:A(()=>[e(n)&&e(n).appliedCoupons?(c(),h("div",ds,[t("span",null,u(s.$t("messages.shop.discount")),1),t("span",us,[Y("- "),t("span",{innerHTML:e(n).discountTotal},null,8,cs)])])):C("",!0)]),_:1}),t("div",ps,[t("span",null,u(s.$t("messages.shop.total")),1),t("span",{class:"text-lg font-bold text-gray-700 tabular-nums",innerHTML:e(n).total},null,8,ms)])]),Ie(s.$slots,"default"),e(r)?(c(),h("div",fs,[$(d)])):C("",!0)])):C("",!0)}}};var be="https://js.stripe.com/v3",_s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ce="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gs=function(){for(var n=document.querySelectorAll('script[src^="'.concat(be,'"]')),r=0;r<n.length;r++){var s=n[r];if(_s.test(s.src))return s}return null},pe=function(n){var r="",s=document.createElement("script");s.src="".concat(be).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},ys=function(n,r){!n||!n._registerWrapper||n._registerWrapper({name:"stripe-js",version:"4.0.0",startTime:r})},F=null,Q=null,X=null,vs=function(n){return function(){n(new Error("Failed to load Stripe.js"))}},bs=function(n,r){return function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}},$s=function(n){return F!==null?F:(F=new Promise(function(r,s){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&n&&console.warn(ce),window.Stripe){r(window.Stripe);return}try{var a=gs();if(a&&n)console.warn(ce);else if(!a)a=pe(n);else if(a&&X!==null&&Q!==null){var l;a.removeEventListener("load",X),a.removeEventListener("error",Q),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=pe(n)}X=bs(r,s),Q=vs(s),a.addEventListener("load",X),a.addEventListener("error",Q)}catch(_){s(_);return}}),F.catch(function(r){return F=null,Promise.reject(r)}))},ws=function(n,r,s){if(n===null)return null;var a=n.apply(void 0,r);return ys(a,s),a},K,$e=!1,we=function(){return K||(K=$s(null).catch(function(n){return K=null,Promise.reject(n)}),K)};Promise.resolve().then(function(){return we()}).catch(function(f){$e||console.warn(f)});var xs=function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];$e=!0;var a=Date.now();return we().then(function(l){return ws(l,r,a)})};const Ss={class:"flex flex-col min-h-[600px]"},Cs={key:0,class:"flex flex-col items-center justify-center flex-1 mb-12"},ks={class:"text-2xl font-bold mb-2"},Vs={class:"text-gray-400 mb-4"},Ps={class:"grid w-full max-w-2xl gap-8 checkout-form md:flex-1"},Us={key:0},Ts=t("h2",{class:"w-full mb-2 text-2xl font-semibold leading-none"},"Contact Information",-1),Ms=t("p",{class:"mt-1 text-sm text-gray-500"},[Y("Already have an account? "),t("a",{href:"/my-account",class:"text-primary text-semibold"},"Log in"),Y(".")],-1),Es={class:"w-full mt-4"},Ls={for:"email"},As={key:0,class:"mt-1 text-sm text-red-500"},Is={class:"w-full mt-4"},Ds={for:"username"},Ns={key:0,class:"w-full my-2"},qs={for:"email"},js={key:1,class:"flex items-center gap-2 my-2"},Os=t("label",{for:"creat-account"},"Create an account?",-1),Hs={class:"w-full mb-3 text-2xl font-semibold"},Gs={for:"shipToDifferentAddress",class:"flex items-center gap-2"},Bs={key:0},zs={class:"mb-4 text-xl font-semibold"},Rs={key:1},Ws={class:"mb-4 text-xl font-semibold"},Fs={key:2,class:"mt-2 col-span-full"},Ks={class:"mb-4 text-xl font-semibold"},Zs={class:"mb-4 text-xl font-semibold"},Ys=["placeholder"],Js=["disabled"],ln=O({__name:"checkout",async setup(f){var W;let n,r;const{t:s}=De(),{query:a}=Ne(),{cart:l,isUpdatingCart:_,paymentGateways:d}=I(),{customer:o,viewer:i}=ne(),{orderInput:p,isProcessingOrder:y,proccessCheckout:m}=re(),D=((W=he().public)==null?void 0:W.STRIPE_PUBLISHABLE_KEY)||null,N=q(y.value?s("messages.general.processing"):s("messages.shop.checkoutButton")),se=ae(()=>y.value||_.value||!p.value.paymentMethod),P=q(!1),L=D?([n,r]=me(()=>xs(D)),n=await n,r(),n):null;let G=q(null);const B=q(!1);qe(async()=>{a.cancel_order&&window.close()});const J=async()=>{var k;N.value=s("messages.general.processing");const{stripePaymentIntent:v}=await He(),{clientSecret:g}=v;try{if(p.value.paymentMethod.id==="stripe"){const T=G.value.getElement("card"),{setupIntent:V}=await L.confirmCardSetup(g,{payment_method:{card:T}}),{source:M}=await L.createSource(T);M&&p.value.metaData.push({key:"_stripe_source_id",value:M.id}),V&&p.value.metaData.push({key:"_stripe_intent_id",value:V.id}),B.value=(V==null?void 0:V.status)==="succeeded"||!1,p.value.transactionId=((k=M==null?void 0:M.created)==null?void 0:k.toString())||new Date().getTime().toString()}}catch(T){console.error(T),N.value=s("messages.shop.placeOrder")}m(B.value)},U=v=>{G.value=v},b=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,z=v=>{v&&(P.value=!b.test(v))},R=v=>{v&&P.value&&(P.value=!b.test(v))};return ze({title:s("messages.shop.checkout")}),(v,g)=>{const k=ie,T=te,V=Oe,M=Ge,xe=ct,Se=Mt,Ce=Nt,ke=zt,Ve=Wt,Pe=hs;return c(),h("div",Ss,[e(l)?(c(),h(j,{key:1},[e(l).isEmpty?(c(),h("div",Cs,[$(T,{name:"ion:cart-outline",size:"156",class:"opacity-25 mb-5"}),t("h2",ks,u(v.$t("messages.shop.cartEmpty")),1),t("span",Vs,u(v.$t("messages.shop.addProductsInYourCart")),1),$(V,{to:"/products",class:"flex items-center justify-center gap-3 p-2 px-3 mt-4 font-semibold text-center text-white rounded-lg shadow-md bg-primary hover:bg-primary-dark"},{default:A(()=>[Y(u(v.$t("messages.shop.browseOurProducts")),1)]),_:1})])):(c(),h("form",{key:1,class:"container flex flex-wrap items-start gap-8 my-16 justify-evenly lg:gap-20",onSubmit:ge(J,["prevent"])},[t("div",Ps,[e(i)?C("",!0):(c(),h("div",Us,[Ts,Ms,t("div",Es,[t("label",Ls,u(v.$t("messages.billing.email")),1),w(t("input",{"onUpdate:modelValue":g[0]||(g[0]=x=>e(o).billing.email=x),placeholder:"johndoe@email.com",type:"email",name:"email",class:le({"has-error":e(P)}),onBlur:g[1]||(g[1]=x=>z(e(o).billing.email)),onInput:g[2]||(g[2]=x=>R(e(o).billing.email)),required:""},null,34),[[S,e(o).billing.email]]),$(Z,{name:"scale-y",mode:"out-in"},{default:A(()=>[e(P)?(c(),h("div",As,"Invalid email address")):C("",!0)]),_:1})]),e(p).createAccount?(c(),h(j,{key:0},[t("div",Is,[t("label",Ds,u(v.$t("messages.account.username")),1),w(t("input",{"onUpdate:modelValue":g[3]||(g[3]=x=>e(p).username=x),placeholder:"Username",type:"text",name:"username",required:""},null,512),[[S,e(p).username]])]),e(p).createAccount?(c(),h("div",Ns,[t("label",qs,u(v.$t("messages.account.password")),1),$(M,{id:"password",class:"my-2",modelValue:e(p).password,"onUpdate:modelValue":g[4]||(g[4]=x=>e(p).password=x),placeholder:"Password",required:!0},null,8,["modelValue"])])):C("",!0)],64)):C("",!0),e(i)?C("",!0):(c(),h("div",js,[Os,w(t("input",{id:"creat-account","onUpdate:modelValue":g[5]||(g[5]=x=>e(p).createAccount=x),type:"checkbox",name:"creat-account"},null,512),[[ue,e(p).createAccount]])]))])),t("div",null,[t("h2",Hs,u(v.$t("messages.billing.billingDetails")),1),$(xe,{modelValue:e(o).billing,"onUpdate:modelValue":g[6]||(g[6]=x=>e(o).billing=x),sameAsShippingAddress:e(p).shipToDifferentAddress},null,8,["modelValue","sameAsShippingAddress"])]),t("label",Gs,[t("span",null,u(v.$t("messages.billing.differentAddress")),1),w(t("input",{id:"shipToDifferentAddress","onUpdate:modelValue":g[7]||(g[7]=x=>e(p).shipToDifferentAddress=x),type:"checkbox",name:"shipToDifferentAddress"},null,512),[[ue,e(p).shipToDifferentAddress]])]),$(Z,{name:"scale-y",mode:"out-in"},{default:A(()=>[e(p).shipToDifferentAddress?(c(),h("div",Bs,[t("h2",zs,u(v.$t("messages.general.shippingDetails")),1),$(Se,{modelValue:e(o).shipping,"onUpdate:modelValue":g[8]||(g[8]=x=>e(o).shipping=x)},null,8,["modelValue"])])):C("",!0)]),_:1}),e(l).availableShippingMethods.length?(c(),h("div",Rs,[t("h3",Ws,u(v.$t("messages.general.shippingSelect")),1),$(Ce,{options:e(l).availableShippingMethods[0].rates,"active-option":e(l).chosenShippingMethods[0]},null,8,["options","active-option"])])):C("",!0),e(d).nodes.length?(c(),h("div",Fs,[t("h2",Ks,u(v.$t("messages.billing.paymentOptions")),1),$(ke,{modelValue:e(p).paymentMethod,"onUpdate:modelValue":g[9]||(g[9]=x=>e(p).paymentMethod=x),class:"mb-4",paymentGateways:e(d)},null,8,["modelValue","paymentGateways"]),e(L)?w((c(),E(Ve,{key:0,stripe:e(L),onUpdateElement:U},null,8,["stripe"])),[[je,e(p).paymentMethod.id=="stripe"]]):C("",!0)])):C("",!0),t("div",null,[t("h2",Zs,u(v.$t("messages.shop.orderNote"))+" ("+u(v.$t("messages.general.optional"))+")",1),w(t("textarea",{id:"order-note","onUpdate:modelValue":g[10]||(g[10]=x=>e(p).customerNote=x),name:"order-note",class:"w-full",rows:"4",placeholder:v.$t("messages.shop.orderNotePlaceholder")},null,8,Ys),[[S,e(p).customerNote]])])]),$(Pe,null,{default:A(()=>[t("button",{class:"flex items-center justify-center w-full gap-3 p-3 mt-4 font-semibold text-center text-white rounded-lg shadow-md bg-primary hover:bg-primary-dark disabled:cursor-not-allowed disabled:bg-gray-400",disabled:e(se)},[Y(u(e(N)),1),e(y)?(c(),E(k,{key:0,color:"#fff",size:"18"})):C("",!0)],8,Js)]),_:1})],32))],64)):(c(),E(k,{key:0,class:"m-auto"}))])}}});export{ln as default};
